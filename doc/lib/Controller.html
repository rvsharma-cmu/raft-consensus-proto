<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Thu Feb 22 03:54:35 EST 2018 -->
<title>Controller</title>
<meta name="date" content="2018-02-22">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Controller";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">lib</div>
<h2 title="Class Controller" class="title">Class Controller</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.rmi.server.RemoteObject</li>
<li>
<ul class="inheritance">
<li>java.rmi.server.RemoteServer</li>
<li>
<ul class="inheritance">
<li>java.rmi.server.UnicastRemoteObject</li>
<li>
<ul class="inheritance">
<li>lib.Controller</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.rmi.Remote, <a href="../lib/MessagingLayer.html" title="interface in lib">MessagingLayer</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Controller</span>
extends java.rmi.server.UnicastRemoteObject
implements <a href="../lib/MessagingLayer.html" title="interface in lib">MessagingLayer</a></pre>
<div class="block">Controller - This class is the implementation of the MessageLayer, which is
 to simulate an underlayer unreliable network, all the message from each rafe
 peer will be processed by this network, and the network decide whether there
 is delay or drop the message packets.

 The Controller will be a RMI server executing on an input port and manage
 the communicating of all the raf peers. The instance will be composed in the
 Config.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sphoorti Joglekar, Priya Avhad, Yijia Cui, Zonglin Wang</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../serialized-form.html#lib.Controller">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../lib/Controller.html#Controller-int-">Controller</a></span>(int&nbsp;port)</code>
<div class="block">Controller - Construct a controller listening on a given port.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#applyChannel-lib.ApplyMsg-">applyChannel</a></span>(<a href="../lib/ApplyMsg.html" title="class in lib">ApplyMsg</a>&nbsp;msg)</code>
<div class="block">applyChannel - add a ApplyMsg when a entry is committed for testing.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#disconnect-int-">disconnect</a></span>(int&nbsp;i)</code>
<div class="block">disconnect - Set a node to be disconnected.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#getNumRegistered--">getNumRegistered</a></span>()</code>
<div class="block">getNumRegistered - return the currently registered nodes.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#getRPCCount-int-">getRPCCount</a></span>(int&nbsp;node)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../lib/GetStateReply.html" title="class in lib">GetStateReply</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#getState-int-">getState</a></span>(int&nbsp;nodeID)</code>
<div class="block">getState - This is the remote call for getting the node state.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#re_connect-int-">re_connect</a></span>(int&nbsp;i)</code>
<div class="block">re_connect - Reconnect a node if it is disconnected, otherwise nothing happens.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#register-int-lib.RemoteControllerIntf-">register</a></span>(int&nbsp;id,
        <a href="../lib/RemoteControllerIntf.html" title="interface in lib">RemoteControllerIntf</a>&nbsp;remoteController)</code>
<div class="block">register - Register the node with the Message Server.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../lib/Message.html" title="class in lib">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#send-lib.Message-">send</a></span>(<a href="../lib/Message.html" title="class in lib">Message</a>&nbsp;message)</code>
<div class="block">send - Start a new thread to send out the message.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#setApplyMsgMap-java.util.Map-">setApplyMsgMap</a></span>(java.util.Map&lt;java.lang.Integer,java.util.concurrent.BlockingQueue&lt;<a href="../lib/ApplyMsg.html" title="class in lib">ApplyMsg</a>&gt;&gt;&nbsp;applyMsgsMap)</code>
<div class="block">setApplyMsgMap - setter of the controller channel map.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#setReliable-boolean-">setReliable</a></span>(boolean&nbsp;reliable)</code>
<div class="block">setReliable - Setter of the long reliability flag.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../lib/StartReply.html" title="class in lib">StartReply</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../lib/Controller.html#start-int-int-">start</a></span>(int&nbsp;nodeID,
     int&nbsp;cmd)</code>
<div class="block">start - Start agreement on a new log entry.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.rmi.server.UnicastRemoteObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.rmi.server.UnicastRemoteObject</h3>
<code>clone, exportObject, exportObject, exportObject, unexportObject</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.rmi.server.RemoteServer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.rmi.server.RemoteServer</h3>
<code>getClientHost, getLog, setLog</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.rmi.server.RemoteObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.rmi.server.RemoteObject</h3>
<code>equals, getRef, hashCode, toString, toStub</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Controller-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Controller</h4>
<pre>public&nbsp;Controller(int&nbsp;port)
           throws java.lang.Exception</pre>
<div class="block">Controller - Construct a controller listening on a given port.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>port</code> - the given port for controller</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="applyChannel-lib.ApplyMsg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyChannel</h4>
<pre>public&nbsp;void&nbsp;applyChannel(<a href="../lib/ApplyMsg.html" title="class in lib">ApplyMsg</a>&nbsp;msg)</pre>
<div class="block">applyChannel - add a ApplyMsg when a entry is committed for testing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../lib/MessagingLayer.html#applyChannel-lib.ApplyMsg-">applyChannel</a></code>&nbsp;in interface&nbsp;<code><a href="../lib/MessagingLayer.html" title="interface in lib">MessagingLayer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - the apply message.</dd>
</dl>
</li>
</ul>
<a name="disconnect-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect(int&nbsp;i)</pre>
<div class="block">disconnect - Set a node to be disconnected.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - the node ID.</dd>
</dl>
</li>
</ul>
<a name="getNumRegistered--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumRegistered</h4>
<pre>public&nbsp;int&nbsp;getNumRegistered()</pre>
<div class="block">getNumRegistered - return the currently registered nodes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of registered nodes.</dd>
</dl>
</li>
</ul>
<a name="getRPCCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRPCCount</h4>
<pre>public&nbsp;int&nbsp;getRPCCount(int&nbsp;node)</pre>
</li>
</ul>
<a name="getState-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../lib/GetStateReply.html" title="class in lib">GetStateReply</a>&nbsp;getState(int&nbsp;nodeID)</pre>
<div class="block">getState - This is the remote call for getting the node state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nodeID</code> - the node ID.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the state information packet</dd>
</dl>
</li>
</ul>
<a name="re_connect-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>re_connect</h4>
<pre>public&nbsp;void&nbsp;re_connect(int&nbsp;i)</pre>
<div class="block">re_connect - Reconnect a node if it is disconnected, otherwise nothing happens.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - the node ID.</dd>
</dl>
</li>
</ul>
<a name="register-int-lib.RemoteControllerIntf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;void&nbsp;register(int&nbsp;id,
                     <a href="../lib/RemoteControllerIntf.html" title="interface in lib">RemoteControllerIntf</a>&nbsp;remoteController)</pre>
<div class="block">register - Register the node with the Message Server.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../lib/MessagingLayer.html#register-int-lib.RemoteControllerIntf-">register</a></code>&nbsp;in interface&nbsp;<code><a href="../lib/MessagingLayer.html" title="interface in lib">MessagingLayer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the node id</dd>
<dd><code>remoteController</code> - the remoteControllerInterface of a raft peer.</dd>
</dl>
</li>
</ul>
<a name="send-lib.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;<a href="../lib/Message.html" title="class in lib">Message</a>&nbsp;send(<a href="../lib/Message.html" title="class in lib">Message</a>&nbsp;message)
             throws java.rmi.RemoteException</pre>
<div class="block">send - Start a new thread to send out the message.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../lib/MessagingLayer.html#send-lib.Message-">send</a></code>&nbsp;in interface&nbsp;<code><a href="../lib/MessagingLayer.html" title="interface in lib">MessagingLayer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the message to be sent.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.rmi.RemoteException</code> - when the deliver RMI call fails.</dd>
</dl>
</li>
</ul>
<a name="setApplyMsgMap-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApplyMsgMap</h4>
<pre>public&nbsp;void&nbsp;setApplyMsgMap(java.util.Map&lt;java.lang.Integer,java.util.concurrent.BlockingQueue&lt;<a href="../lib/ApplyMsg.html" title="class in lib">ApplyMsg</a>&gt;&gt;&nbsp;applyMsgsMap)</pre>
<div class="block">setApplyMsgMap - setter of the controller channel map.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>applyMsgsMap</code> - the node to channel map.</dd>
</dl>
</li>
</ul>
<a name="setReliable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReliable</h4>
<pre>public&nbsp;void&nbsp;setReliable(boolean&nbsp;reliable)</pre>
<div class="block">setReliable - Setter of the long reliability flag.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reliable</code> - flag to set</dd>
</dl>
</li>
</ul>
<a name="start-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;<a href="../lib/StartReply.html" title="class in lib">StartReply</a>&nbsp;start(int&nbsp;nodeID,
                        int&nbsp;cmd)</pre>
<div class="block">start - Start agreement on a new log entry.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nodeID</code> - the node ID.</dd>
<dd><code>cmd</code> - the command to append.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>status information about this agreement.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
